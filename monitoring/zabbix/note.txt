源码安装：

下载地址：http://www.zabbix.com/download.php

# tar -zxvf zabbix-2.0.0.tar.gz

创建用户：
# groupadd zabbix
# useradd -g zabbix zabbix


创建数据库：

server和proxy的运行都依赖于数据库，agent则不需要。

以MySQL数据库为例：
mysql> CREATE DATABASE zabbix CHARACTER SET utf8 COLLATE utf8_bin;
mysql> GRANT ALL ON zabbix.* TO zbuser@'%' IDENTIFIED BY 'zbpass';
# 请按需要修改用户名和密码；
shell> mysql -u<username> -p<password> zabbix < database/mysql/schema.sql
# 如果仅为proxy创建数据库，只导入schema.sql即可；否则，请继续下面的步骤；

shell> mysql -u<username> -p<password> zabbix < database/mysql/images.sql
shell> mysql -u<username> -p<password> zabbix < database/mysql/data.sql



编译安装zabbix:

同时安装server和agent，并支持将数据放入mysql数据中，可使用类似如下配置命令：
./configure --enable-server --enable-agent --with-mysql --enable-ipv6 --with-net-snmp --with-libcurl --with-ssh2

如果仅安装server，并支持将数据放入mysql数据中，可使用类似如下配置命令：
./configure --enable-server --with-mysql --with-net-snmp --with-libcurl

如果仅安装proxy，并支持将数据放入mysql数据中，可使用类似如下配置命令：
./configure --prefix=/usr --enable-proxy --with-net-snmp --with-mysql --with-ssh2

如果仅安装agent，可使用类似如下配置命令：
./configure --enable-agent


而后编译安装zabbix即可：
# make
# make install



配置zabbix：

server的配置文件为zabbix_server.conf，至少应该为其配置数据库等相关的信息；

agent的配置文件为zaabix_agentd.conf，至少应该为其指定server的IP地址；

proxy的配置文件为zabbix_proxy.conf，至少应该为其指定proxy的主机名和server的IP，以及数据库等相关的配置信息；




启动zabbix:

server:  zabbix_server

agent: zabbix_agentd

proxy: zabbix_proxy



安装frontend: 

# cp -a  frontend/php/  /var/www/html/zabbix

启动lamp或lnmp后，通过浏览器访问http://<server_ip_or_name>/zabbix即可进行安装。


如果使用rpm安装，zabbix关于mysql的数据库脚本文件路径为：
# cd /usr/share/doc/zabbix-server-mysql-2.0.6/create/


zabbix: 
	数据采集-->数据存储-->数据展示和分析-->报警

	数据采集：
		SNMP
		agent
		ICMP/SSH/IPMI

	数据存储：
		cacti: rrd
		nagios: , mysql
		zabbix: mysql/pgsql/oracle

	数据展示（Web）：
		java
		php
		移动app

	报警：
		mail(smtp)
		Chat Message
		SMS


zabbix:
	zabbix agent
	agent(active)
	SNMP
	SSH

zabbix: 
	用RDBMS保存；

数据展示：
	php, web gui

报警：
	报警升级

如何确定zabbix的监控对象：
	手动添加
	自动发现

	hosts, host group
	item, application
		item: key
	graph, screen
	trigger, event (discovery)
	action (notification, operation, condition)



模板是一系列配置的集合，它可以方便地快速部署在某监控对象上，并支持重复应用。模板可包含多种类型的条目：
	items
	triggers
	graphs
	applications
	screens (since Zabbix 2.0)
	low-level discovery rules (since Zabbix 2.0)


UserParameter=<key>,<command>

